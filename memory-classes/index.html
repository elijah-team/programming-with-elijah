<!doctype html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Memory in Elijah is under complete control of the programmer. (This may not be so in some backends such as Java, where there is only a modicum of contâ€¦">
    <meta name="author" content="Tripleo">

    
        <link rel="canonical" href="https://elijah-team.github.io/programming-with-elijah/memory-classes/" />
    
    <link href="/programming-with-elijah/css/edition-2/poole.css" rel="stylesheet">
    <link href="/programming-with-elijah/css/edition-2/main.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="RSS feed for tripleo1.github.io/blog" href="https://elijah-team.github.io/programming-with-elijah//blog/rss.xml" />

    <script async src="/programming-with-elijah/js/edition-2/main.js"></script>

    <title>Memory Classes | Programming with Elijah</title>
</head>

<body>
    <div class="container content">
        <header class="masthead">
            <div style="position:relative">
                <h2 class="masthead-title">
                    <a href="https://elijah-team.github.io/programming-with-elijah/" title="Home">Programming with Elijah</a>
                </h2>
                <p><small>Programming&nbsp;with&nbsp;Elijah</small></p>
                
    <aside id="all-posts-link"><a href="https://elijah-team.github.io/programming-with-elijah/" title="All Posts">Â« All Posts</a></aside>

            </div>
        </header>

        <div>
            
<aside id="toc-aside" class="">
        <h2>Table of Contents</h2>
    <ol>
        <li>
            <a href="#memory-classes">Memory Classes</a>
            
        </li><li>
            <a href="#reference-counting">Reference Counting</a>
            
        </li><li>
            <a href="#automatic-garbage-collection">Automatic Garbage Collection</a>
            
        </li><li>
            <a href="#pooled-memory">Pooled Memory</a>
            
        </li><li>
            <a href="#manual">Manual</a>
            
        </li><li>
            <a href="#allocators">Allocators</a>
            
        </li><li>
            <a href="#finalizers-and-destrtuctors">Finalizers and Destrtuctors</a>
            
        </li><li>
            <a href="#what-s-next">What's next?</a>
            
        </li>
        <li class="toc-comments-link"><a href="#comments">Comments</a></li>
    </ol>
</aside>

            <main>
    <div class="">
    <h1>Memory Classes</h1>
    <time datetime="2021-06-29" class="post-date">
        Jun 29, 2021
        
    </time>
    </div>

    

    <div class="">
    <p>Memory in Elijah is under complete control of the programmer. (This may not be so in some backends such as Java, where there is only a modicum of control allowed.)  Memory models, when applied to variables allow the specification of how and when memory is allocated and released by a program.</p>
<span id="continue-reading"></span><h2 id="memory-classes"><a class="zola-anchor" href="#memory-classes" aria-label="Anchor link for: memory-classes">ðŸ”—</a>Memory Classes</h2>
<ul>
<li>ref </li>
<li>gc </li>
<li>pooled </li>
<li>manual</li>
</ul>
<h2 id="reference-counting"><a class="zola-anchor" href="#reference-counting" aria-label="Anchor link for: reference-counting">ðŸ”—</a>Reference Counting</h2>
<p>From <a href="https://en.wikipedia.org/wiki/Reference_counting">Wikipedia</a>:</p>
<blockquote>
<p><em>Reference counting</em> is a programming technique of storing the number of references, pointers, or handles to an object (aka a block of memory).</p>
<p>In garbage collection algorithms, reference counts may be used to deallocate objects that are no longer needed. </p>
</blockquote>
<h2 id="automatic-garbage-collection"><a class="zola-anchor" href="#automatic-garbage-collection" aria-label="Anchor link for: automatic-garbage-collection">ðŸ”—</a>Automatic Garbage Collection</h2>
<blockquote>
<p>A garbage collector (GC) cleans up the memory when objects you allocated in your code become obsolete.</p>
</blockquote>
<p>The current implementation of Elijah uses the Boehm collector (libgc).</p>
<h2 id="pooled-memory"><a class="zola-anchor" href="#pooled-memory" aria-label="Anchor link for: pooled-memory">ðŸ”—</a>Pooled Memory</h2>
<p>A memory pool avoids the system allocator (<code>malloc</code>) when it is used right.  When it is used wrong it just wastes memory.</p>
<h2 id="manual"><a class="zola-anchor" href="#manual" aria-label="Anchor link for: manual">ðŸ”—</a>Manual</h2>
<p>This is the equivalent of just using <code>malloc</code> and <code>free</code>, or <code>new</code> and <code>delete</code>.</p>
<h2 id="allocators"><a class="zola-anchor" href="#allocators" aria-label="Anchor link for: allocators">ðŸ”—</a>Allocators</h2>
<p>Each function has an implicit allocator (which is usually inherited from somewhere, like the next function up in the call stack).  It is this allocator that determines the memory profile of the function.</p>
<p>That means you can have a separate arena for GCed objects or a Pool for efficient use of memory without touching <code>malloc</code>.</p>
<h2 id="finalizers-and-destrtuctors"><a class="zola-anchor" href="#finalizers-and-destrtuctors" aria-label="Anchor link for: finalizers-and-destrtuctors">ðŸ”—</a>Finalizers and Destrtuctors</h2>
<p>Nothing to say yet</p>
<h2 id="what-s-next"><a class="zola-anchor" href="#what-s-next" aria-label="Anchor link for: what-s-next">ðŸ”—</a>What's next?</h2>
<p>The next post explains how to ...</p>

    </div>

    <div class="post-footer-support">
        <h2>Support Me</h2>
        
<p>
    Creating and <a href="https:&#x2F;&#x2F;elijah-team.github.io&#x2F;programming-with-elijah&#x2F;status-update&#x2F;">maintaining</a> this blog and the associated libraries is a lot of work, but I really enjoy doing it. By supporting me, you allow me to invest more time in new content, new features, and continuous maintenance.
</p>
<p>
    The best way to support me is to <a href="https://github.com/sponsors/phil-opp"><em>sponsor me on GitHub</em></a>, since they don't charge any fees. If you prefer other platforms, I also have <a href="https://www.patreon.com/phil_opp"><em>Patreon</em></a> and <a href="https://donorbox.org/phil-opp"><em>Donorbox</em></a> accounts. The latter is the most flexible as it supports multiple currencies and one-time contributions.
</p>
<p>
    Thank you!
</p>

    </div>

    <hr>
    <div class="PageNavigation">
        
            <a class="prev" href="/hardware-interrupts/">&laquo; Hardware Interrupts</a>
        
        
            <a class="next" href="/allocators/">Allocators &raquo;</a>
        
    </div>

    <hr>
    <section>
        <h2 id="comments" class="">Comments</h2>

        
    <script src="https://utteranc.es/client.js"
        data-repo="elijah-team/programming-with-elijah/"
        data-issue-term="url"
        data-label="comments"
        crossorigin="anonymous"
        async>
    </script>

    </section>

    <aside class="page-aside-right">
        <div class="block" id="language-selector">
            <h2>Other Languages</h2>
            <ul>
                <li data-lang-switch-to="en" class=""><a href="https://elijah-team.github.io/programming-with-elijah/memory-classes/">English (original)</a></li>
            </ul>
        </div>

        <div class="block">
            <h2>About Me</h2>
            <p>
		I'm just a guy who likes languages, OSes, and the intersection of the two.
            </p><p>
                If you want to work with me, reach out on <a href="mailto:remove:oluoluolu+elijah-team-github@gmail.com">E-Mail</a>.
            </p>
        </div>
    </aside>

</main>
        </div>

        <div></div>

        <footer class="footer">
            <hr>
            <small>
                &copy; <time datetime="2021">2021</time>. All rights reserved.
                <a href="https://elijah-team.github.io/programming-with-elijah/contact/">Contact</a>
            </small>
        </footer>
    </div>

    <!-- Fathom - simple website analytics - https://github.com/usefathom/fathom -->
    <script>
        (function(f, a, t, h, o, m){
            a[h]=a[h]||function(){
                (a[h].q=a[h].q||[]).push(arguments)
            };
            o=f.createElement('script'),
            m=f.getElementsByTagName('script')[0];
            o.async=1; o.src=t; o.id='fathom-script';
            m.parentNode.insertBefore(o,m)
        })(document, window, '/tracker.js', 'fathom');
        fathom('set', 'siteId', 'MUXWM');
        fathom('trackPageview');
    </script>
    <!-- / Fathom -->
</body>

</html>
OC